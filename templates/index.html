<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <aName>Story Squire - A creative writting assistant</aName>
    <!-- You can link your CSS file here if needed -->
    <!-- <link rel="stylesheet" href="static/css/style.css"> -->
</head>
<body>

    <div style="display: flex;">

        <!-- Text input area -->
        <div style="flex: 1; padding: 10px;">
            <h3>Input Text</h3>
            <textarea id="inputText" rows="20" cols="100" placeholder="Starts writting here"></textarea>
            

            <div style="flex: 1; padding: 10px;">

                <label for="authorSearch">Search Authors:</label>
                <input type="text" id="authorSearch" placeholder="Enter author's name">
    
    
                <label for="authorDropdown">Select author</label>
                <select id="authorDropdown"></select> 
    
                <br>

                <label for="categorySearch">Search Categories:</label>
                <input type="text" id="categorySearch" placeholder="Enter category">
    
                <label for="categoryDropdown">Select theme</label>
                <select id="categoryDropdown"></select>
                <button onClick="changeStyle()">Change Style</button>
                <br>
        
            </div>
        
        </div>


        <div style="flex: 1; padding: 10px;">
            <h3>Modified Text</h3>
            <textarea id="ModdedTextArea" rows="20" cols="100" placeholder="Modify text should appear here"></textarea>
            <br>
        </div>
        
        <br>

    

    <script>

        document.addEventListener('DOMContentLoaded', function () {

            // Get reference to the dropdown
            const authorDropdown = document.getElementById('authorDropdown');
            const authorSearch = document.getElementById('authorSearch');

            const categoryDropdown = document.getElementById('categoryDropdown');
            const categorySearch = document.getElementById('categorySearch');


        

            function populateDropdown(dropdown, values) {
                // Populate dropdown menu with values
                values.forEach(value => {
                    const option = document.createElement('option');
                    option.value = value;
                    option.textContent = value;
                    dropdown.appendChild(option);
                })
            }

            function getUniqueValues(items, property){
                // Extract unique values from list of items
                const values = items.reduce((allValues, item) => {
                    const propValue = item.volumeInfo[property] || ['Unknown'];
                    return allValues.concat(propValue);
                }, []);
                
                return Array.from(new Set(values));
            }


            function changeStyle(){

                var inputText = document.getElementById('inputText').value;

                fetch('/changeTheme', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: 'inputText=' + encodeURIComponent(inputText)
                })
                .then(response => response.json())
                .then(data => {


                    // Display translated text in the textarea
                    document.getElementById('ModdedTextArea').value = modText;

                console.log('Response:', data);  
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            }
        });


        
    </script>

</body>
</html>
